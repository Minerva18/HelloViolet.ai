<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: violet-conversations/lib/utils.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
    <link type="text/css" rel="stylesheet" href="../assets/css/docs-customization.css">
</head>

<body>

  <!-- HEADER FROM JEKYLL THEME -->
  <div id="header_wrap" class="outer">
      <header class="inner">
        <div id="top_banner">
          <a id="menu" href="/docs">Documentation</a>
          <a id="forkme_banner" href="{{ site.github.repository_url }}">View on GitHub</a>
        </div>

        <h1 id="project_title"><a href="/">Violet</a></h1>
        <h2 id="project_tagline">Enabling Sophisticated Voice Conversations</h2>

      </header>
  </div>
  <div id="main_wrap">

<div id="main">

    <h1 class="page-title">Source: violet-conversations/lib/utils.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/* Copyright (c) 2017-present, salesforce.com, inc. All rights reserved */
/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */

/** General purpose utilities - helpful when building Voice apps
 * @module utils
 */

var fs = require('fs');
var path = require('path');
var Promise = require('bluebird');

/** Loads a newline seperated array from a file - especially helpful when you
 *  have a long list of possible values
 */
exports.loadArrayFromFile =  function(dirName, fileName) {
  return fs.readFileSync(path.join(dirName, fileName), 'utf8')
      .split('\n')
      .filter(v=>{return v.length>0;});
};

/** Returns random number  */
exports.getRand =  function(min, max) {
  return Math.floor(Math.random() * (max - min)) + min;
};

/** Converts an array to a string */
exports.getArrAsStr = function(arr) {
  if (arr.length==1) return arr[0];
  arr.splice(arr.length-1, 0, 'and');
  return arr.join(', ').replace(', and, ', ' and ');
}

/** Converts numbers 0-999 to a string */
exports.getNumAsStr = function(num) {
  if (typeof num == 'string') num = parseInt(num);
  if (num&lt;0) return 'err';
  if (num&lt;20) switch(num) {
    case 0: return 'zero';
    case 1: return 'one';
    case 2: return 'two';
    case 3: return 'three';
    case 4: return 'four';
    case 5: return 'five';
    case 6: return 'six';
    case 7: return 'seven';
    case 8: return 'eight';
    case 9: return 'nine';
    case 10: return 'ten';
    case 11: return 'eleven';
    case 12: return 'twelve';
    case 13: return 'thirteen';
    case 14: return 'fourteen';
    case 15: return 'fifteen';
    case 16: return 'sixteen';
    case 17: return 'seventeen';
    case 18: return 'eighteen';
    case 19: return 'nineteen';
  };
  if (num&lt;20+10) return 'twenty ' + _getNumAsStr(num-20);
  if (num&lt;30+10) return 'thirty ' + _getNumAsStr(num-30);
  if (num&lt;40+10) return 'forty ' + _getNumAsStr(num-40);
  if (num&lt;50+10) return 'fifty ' + _getNumAsStr(num-50);
  if (num&lt;60+10) return 'sixty ' + _getNumAsStr(num-60);
  if (num&lt;70+10) return 'seventy ' + _getNumAsStr(num-70);
  if (num&lt;80+10) return 'eighty ' + _getNumAsStr(num-80);
  if (num&lt;90+10) return 'ninety ' + _getNumAsStr(num-90);
  if (num&lt;100+100) return 'one hunder ' + _getNumAsStr(num-100);
  if (num&lt;200+100) return 'two hunder ' + _getNumAsStr(num-200);
  if (num&lt;300+100) return 'three hunder ' + _getNumAsStr(num-300);
  if (num&lt;400+100) return 'four hunder ' + _getNumAsStr(num-400);
  if (num&lt;500+100) return 'five hunder ' + _getNumAsStr(num-500);
  if (num&lt;600+100) return 'six hunder ' + _getNumAsStr(num-600);
  if (num&lt;700+100) return 'seven hunder ' + _getNumAsStr(num-700);
  if (num&lt;800+100) return 'eight hunder ' + _getNumAsStr(num-800);
  if (num&lt;900+100) return 'nine hunder ' + _getNumAsStr(num-900);
};

/** Supporting While Loop with promises */
var promiseWhile = exports.promiseWhile = Promise.method(function(condition, action) {
  if (!condition()) return;
  return action().then(promiseWhile.bind(null, condition, action));
});
// var _promiseFor = Promise.method(function(condition, action, value) {
//   /*assumes that action returns updated value*/
//   if (!condition(value)) return value;
//   return action(value).then(_promiseFor.bind(null, condition, action));
// });
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-utils.html">utils</a></li><li><a href="module-violet.html">violet</a></li><li><a href="module-violetList.html">violetList</a></li><li><a href="module-violetSrvr.html">violetSrvr</a></li><li><a href="module-violetStorePG.html">violetStorePG</a></li><li><a href="module-violetStoreSF.html">violetStoreSF</a></li><li><a href="module-violetTime.html">violetTime</a></li></ul><h3>Classes</h3><ul><li><a href="module-violet.script-__getResponse-response.html">response</a></li><li><a href="module-violet.script-violet.html">violet</a></li></ul><h3>Global</h3><ul><li><a href="global.html#(unnamed)">(unnamed)</a></li><li><a href="global.html#Howdy">Howdy</a></li><li><a href="global.html#HowWork">HowWork</a></li><li><a href="global.html#Intro">Intro</a></li><li><a href="global.html#MajorIntent">MajorIntent</a></li><li><a href="global.html#setAlert">setAlert</a></li><li><a href="global.html#unsetAlert">unsetAlert</a></li><li><a href="global.html#WakeUp">WakeUp</a></li></ul>
</nav>

</div><!-- id="main_wrap" -->

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Wed Nov 15 2017 23:06:30 GMT-0500 (EST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
